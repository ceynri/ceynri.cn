# V3 Task list

## 项目基础设置

- [x] 搭建 Astro 项目基础结构
- [x] 配置 TypeScript、ESLint、Prettier 等开发环境
- [x] 添加 Cursor 规则，提升 AI 编程体验
- [x] 更新到 Astro 5.x 及相关的最新插件版本
- [x] 配置 TailwindCSS 与项目集成

## 内容管理

- [x] 实现 Markdown/MDX 内容管理
- [x] 设置内容集合（Content Collections）管理博客文章
- [x] 实现文章发布控制（可标记文章为未发布状态）
- [x] 实现 RSS 订阅功能
- [ ] 添加"关于"文章的英文版本
  - [ ] 创建 `about.en.md` 文件
  - [ ] 将中文内容翻译成英文
  - [ ] 添加英文版本的元数据
  - [ ] 更新关于页面组件支持语言切换

## 布局与组件

- [x] 迁移布局组件
- [x] 迁移导航组件
- [x] 迁移页脚组件
- [x] 迁移博客组件
- [x] 实现分页组件
- [x] 实现主题切换组件
- [x] 实现 SEO 相关组件
- [x] 实现 Giscus 评论系统集成

## 页面迁移

- [ ] 新版首页
  - [x] 移植 Perlin Noise 动画作为首页背景
  - [ ] 完成内容排版填充
- [x] 迁移博客列表页
- [x] 迁移博客详情页
- [x] 迁移关于页面
- [x] 迁移归档页面
- [x] 迁移标签页面
- [x] 迁移 404 页面

## 样式系统

- [x] 迁移全局样式与主题变量
- [x] 迁移排版（Typography）样式
- [x] 迁移响应式布局设计
- [x] 迁移主题系统（深色/浅色模式）
- [x] 初步将组件级样式从 SASS 迁移到 Tailwind CSS

## 文章功能增强

- [ ] 支持定位到文章的指定标题（锚点导航）
  - [ ] 实现标题点击复制链接功能
  - [ ] 支持通过 URL 哈希自动滚动到指定标题
- [ ] 支持展示文章目录
  - [ ] 创建 TableOfContents 组件
  - [ ] 从文章内容解析标题并生成目录
  - [ ] 实现目录项与页面内容的联动高亮
  - [ ] 添加目录折叠/展开功能
- [ ] 文章底部添加上一篇/下一篇文章按钮
  - [ ] 修改内容查询以获取相邻文章信息
  - [ ] 创建 PrevNextNavigation 组件
  - [ ] 在文章底部添加导航组件
- [ ] 根据 Markdown frontmatter 添加相关文章链接
  - [ ] 在文章 frontmatter 中添加相关文章字段
  - [ ] 创建 RelatedPosts 组件
  - [ ] 在文章页面集成相关文章展示
- [x] 优化 giscus 评论区样式与主题联动
  - [x] 创建自定义 giscus 主题 CSS
  - [x] 实现主题切换时评论区主题同步变化
  - [x] 优化评论区在移动设备上的显示

## UI 增强特性

- [x] 实现新的表格样式
- [x] 为 `<mark>` 元素添加自定义样式支持
- [ ] 优化背景纹理效果
  - [ ] 设计并创建背景纹理 SVG
  - [ ] 实现深色/浅色模式下不同的纹理效果
- [ ] 将特殊格式的链接显示为卡片
  - [ ] 创建 LinkCard 组件
  - [ ] 实现链接元数据抓取
  - [ ] 为卡片添加预览图像和描述
  - [ ] 匹配 markdown 的特定格式，使用该组件渲染
- [ ] 添加翻转日历效果
  - [ ] 创建 FlipCalendar 组件
  - [ ] 实现日期翻转动画
  - [ ] 在博客文章或首页集成日历组件
- [ ] 开发更多有趣的首页主题
  - [ ] 设计新的首页布局方案
  - [ ] 创建主题切换机制
  - [ ] 实现首页主题选择器
- [ ] 添加首页酷炫加载动画
  - [ ] 设计加载动画效果
  - [ ] 实现使用 CSS/JS 的动画
  - [ ] 添加页面加载完成后的过渡效果
- [ ] 实现图片库/相册功能
  - [ ] 创建 Gallery 和 GalleryItem 组件
  - [ ] 实现图片懒加载和渐进式加载
  - [ ] 添加图片查看器和轮播功能

## 性能优化

- [x] 使用 Astro 静态站点生成（SSG）
- [x] 优化资源加载顺序与关键路径渲染
- [x] 使用 Astro 的 client 指令按需加载 JavaScript
- [x] 使用 Astro <Image> 组件，优化图片加载
- [ ] 进一步减少客户端 JavaScript 的使用
  - [ ] 审查当前 client:\* 指令的使用
  - [ ] 将不必要的客户端组件转换为静态组件
  - [ ] 优化现有客户端组件的代码体积
- [ ] 利用 Astro 所提供的各种性能优化特性对项目做性能优化
  - [ ] 使用 Astro 的 View Transitions API 实现页面过渡动画
  - [ ] 利用 Astro 的 Partial Hydration 特性优化组件加载
  - [ ] 配置 Astro 的资源预加载策略
  - [x] 使用 Astro 的 Content Collections API 优化内容管理
  - [ ] 配置 Astro 的图片优化选项
- [ ] 确保 Lighthouse 评分达标
  - [ ] 运行 Lighthouse 测试并记录基准分数
  - [ ] 优化首次内容绘制 (FCP) 时间
  - [ ] 优化最大内容绘制 (LCP) 时间
  - [ ] 改善累积布局偏移 (CLS) 表现

## 测试与部署

- [x] 本地开发环境搭建与测试
- [ ] 全面测试并优化所有已迁移页面和组件的响应式设计
  - [ ] 测试首页在不同设备尺寸下的表现
  - [ ] 测试博客文章页在不同设备尺寸下的表现
  - [ ] 测试归档和标签页在不同设备尺寸下的表现
- [ ] 确保跨浏览器兼容性
  - [ ] 在 Chrome、Firefox、Safari 上测试
  - [ ] 修复特定浏览器的样式和功能问题
  - [ ] 处理浏览器特定的 CSS 和 JS 兼容性
